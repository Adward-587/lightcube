# lightcube
​	时光空间立方 一款基于BK7252制作的桌面小工具

​	外观是完美的正方体，每个面在未启动时就像一面镜子，启动后则可以看到一个无限五彩斑斓的内部空间。放置于办公桌面，既是一款优雅的装饰品，又是一款具有实用价值的小巧工具。

## 已完成功能

- WIFI配置

- 蓝牙连接

- 自动连接WIFI

- 蓝牙搜索

- 蓝牙配置

- 时间配置

- 自动同步时间

- WS2812呼吸灯

- WS2812彩虹灯

- WS2812纯色控制

- WS2812时长控制
- LCD显示模式
- LCD显示时长控制
- 显示时间、日期、周几

- 显示一言

- 显示天气

- 显示随机数（摇骰子）
- 震动传感器

## 目录说明

主要代码放置在`/lightcube`目录下，其他目录为麻雀一号官方SDK，默认是RT-Thread 3.1.0版本

## 编译说明

进入根目录，输入`scons`，等待编译完成即可

## 引脚安排

19(VUSB)：接USB+5V，用于设备供电

20(39)：震动开关的信号脚，接震动开关的焊盘

24(P16)：引出，连接WS2812焊盘的信号，为SPI_MOSI 

36(P5)：LCD显示屏的 SDA，接屏幕焊盘的(10号脚)

37(P3)：LCD显示屏的 CS，接屏幕焊盘的(8号脚)

38(P4)：LCD显示屏的 WR/S DC，接屏幕焊盘的(7号脚)

39(P2)：LCD显示屏的 DC/S CLK，接屏幕焊盘的(9号脚)

40(P6)：LCD显示屏的 PWM ，通过三极管电路接屏幕焊盘的LCD_LEDK1(2号脚)

53(P11)、52(P10)：接CH330N，与USB座连接，RX、TX

预留SPI烧录接口

剩余的VCC/GND 自由布线

## 注意

服务器地址需要修改为自己的服务器地址，在`lightcube/network.c`文件中配置。当前服务器为私人服务器，不开放测试。

## TODO

- 新建模具，扩大尺寸
- 增加电池，可以脱离USB线
- 灯板重新画板，当前灯板太宽
- 添加麦克、扬声器，用于语音交互
- 更换屏幕，当前屏幕尺寸太小，而且需要辅助材料才不漏光
- 添加更多功能
  - 备忘录
  - 语音漂流瓶（类似微信漂流瓶）
  - 语音助手
  - 闹钟
  - 倒计时
  - 。。。
- 外观喷漆，保持一致性，做成通体镜像反光效果

以上功能会根据情况，在未来版本逐步添加更新，敬请期待。